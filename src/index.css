@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 220 60% 98%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    --primary: 220 100% 59%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 58% 29%;
    --secondary-foreground: 0 0% 100%;

    --accent: 195 100% 50%;
    --accent-foreground: 222 47% 11%;

    --muted: 220 30% 94%;
    --muted-foreground: 220 20% 46%;

    --destructive: 0 76% 65%;
    --destructive-foreground: 0 0% 100%;

    --success: 142 69% 58%;
    --success-foreground: 0 0% 100%;

    --warning: 48 96% 53%;
    --warning-foreground: 222 47% 11%;

    --border: 220 30% 90%;
    --input: 220 30% 90%;
    --ring: 220 100% 59%;

    --radius: 0.75rem;

    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 222 47% 11%;
    --sidebar-primary: 220 100% 59%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 220 60% 96%;
    --sidebar-accent-foreground: 222 47% 11%;
    --sidebar-border: 220 30% 90%;
    --sidebar-ring: 220 100% 59%;

    /* Custom gradients */
    --gradient-primary: linear-gradient(135deg, hsl(220 100% 59%) 0%, hsl(195 100% 50%) 100%);
    --gradient-hero: linear-gradient(135deg, hsl(220 60% 98%) 0%, hsl(220 80% 95%) 100%);
    --gradient-card: linear-gradient(135deg, hsl(0 0% 100%) 0%, hsl(220 60% 99%) 100%);
    
    /* Shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
    --shadow-glow: 0 0 30px hsl(220 100% 59% / 0.15);
  }

  .dark {
    --background: 222 47% 8%;
    --foreground: 220 30% 94%;

    --card: 222 40% 12%;
    --card-foreground: 220 30% 94%;

    --popover: 222 40% 12%;
    --popover-foreground: 220 30% 94%;

    --primary: 220 100% 59%;
    --primary-foreground: 0 0% 100%;

    --secondary: 220 58% 29%;
    --secondary-foreground: 0 0% 100%;

    --accent: 195 100% 50%;
    --accent-foreground: 0 0% 100%;

    --muted: 222 30% 18%;
    --muted-foreground: 220 20% 60%;

    --destructive: 0 76% 65%;
    --destructive-foreground: 0 0% 100%;

    --success: 142 69% 58%;
    --success-foreground: 0 0% 100%;

    --warning: 48 96% 53%;
    --warning-foreground: 222 47% 11%;

    --border: 222 30% 20%;
    --input: 222 30% 20%;
    --ring: 195 100% 50%;

    --sidebar-background: 222 40% 10%;
    --sidebar-foreground: 220 30% 94%;
    --sidebar-primary: 220 100% 59%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 222 30% 16%;
    --sidebar-accent-foreground: 220 30% 94%;
    --sidebar-border: 222 30% 18%;
    --sidebar-ring: 195 100% 50%;

    /* Dark mode gradients */
    --gradient-primary: linear-gradient(135deg, hsl(220 100% 59%) 0%, hsl(195 100% 50%) 100%);
    --gradient-hero: linear-gradient(135deg, hsl(222 47% 8%) 0%, hsl(222 50% 12%) 100%);
    --gradient-card: linear-gradient(135deg, hsl(222 40% 12%) 0%, hsl(222 35% 14%) 100%);
    
    /* Dark shadows */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.3);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.4), 0 2px 4px -2px rgb(0 0 0 / 0.3);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.4), 0 4px 6px -4px rgb(0 0 0 / 0.3);
    --shadow-glow: 0 0 40px hsl(195 100% 50% / 0.2);
  }
}

@layer base {
  * {
    @apply border-border;
  }

  html {
    scroll-behavior: smooth;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    overflow-x: hidden;
    max-width: 100vw;
    width: 100%;
  }

  /* Prevent horizontal scrolling on mobile */
  html, body {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    overflow-x: hidden;
  }

  *, *::before, *::after {
    box-sizing: border-box;
  }

  /* Ensure main containers don't overflow */
  #root {
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
  }

  /* Prevent grid items from overflowing */
  .grid {
    width: 100%;
    max-width: 100%;
  }

  /* Ensure grid items don't overflow */
  .grid > * {
    min-width: 0;
    max-width: 100%;
  }

  /* Ensure cards don't overflow on mobile */
  @media (max-width: 1023px) {
    .glass-card {
      width: 100%;
      max-width: 100%;
      box-sizing: border-box;
    }
  }

  /* Force full-width main content on mobile - prevents sidebar space reservation */
  @media (max-width: 768px) {
    #main-content {
      padding-left: 1rem !important;
      padding-right: 1rem !important;
      margin-left: 0 !important;
      width: 100% !important;
      max-width: 100% !important;
    }
  }

  /* Skip to content for accessibility */
  .skip-to-content {
    @apply sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 focus:z-50 focus:px-4 focus:py-2 focus:bg-primary focus:text-primary-foreground focus:rounded-lg;
  }
}

@layer components {
  /* Glass morphism cards */
  .glass-card {
    @apply bg-card/80 backdrop-blur-md border border-border/50 rounded-xl;
    box-shadow: var(--shadow-md);
  }

  .dark .glass-card {
    @apply bg-card/60 border-border/30;
    box-shadow: var(--shadow-glow), var(--shadow-md);
  }

  /* Gradient text */
  .gradient-text {
    @apply bg-clip-text text-transparent;
    background-image: var(--gradient-primary);
  }

  /* Gradient button */
  .gradient-button {
    background-image: var(--gradient-primary);
    @apply text-white font-semibold rounded-lg transition-all duration-200;
  }

  .gradient-button:hover {
    @apply shadow-lg scale-[1.02];
    box-shadow: var(--shadow-glow);
  }

  /* Glow effect */
  .glow {
    box-shadow: var(--shadow-glow);
  }

  /* Active nav item */
  .nav-active {
    @apply bg-primary/10 text-primary border-l-2 border-primary;
  }

  /* Progress bar animation */
  .progress-animate {
    @apply transition-all duration-500 ease-out;
  }

  /* Floating animation */
  @keyframes float {
    0%, 100% { transform: translateY(0px); }
    50% { transform: translateY(-10px); }
  }

  .animate-float {
    animation: float 6s ease-in-out infinite;
  }

  /* Pulse glow */
  @keyframes pulse-glow {
    0%, 100% { box-shadow: 0 0 20px hsl(195 100% 50% / 0.3); }
    50% { box-shadow: 0 0 40px hsl(195 100% 50% / 0.5); }
  }

  .animate-pulse-glow {
    animation: pulse-glow 3s ease-in-out infinite;
  }

  /* Slide up animation */
  @keyframes slide-up {
    from { opacity: 0; transform: translateY(20px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-slide-up {
    animation: slide-up 0.5s ease-out forwards;
  }

  /* Fade in animation */
  @keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  .animate-fade-in {
    animation: fadeIn 0.3s ease-in forwards;
  }

  /* Stagger children */
  .stagger-children > * {
    @apply opacity-0;
    animation: slide-up 0.5s ease-out forwards;
  }

  .stagger-children > *:nth-child(1) { animation-delay: 0ms; }
  .stagger-children > *:nth-child(2) { animation-delay: 100ms; }
  .stagger-children > *:nth-child(3) { animation-delay: 200ms; }
  .stagger-children > *:nth-child(4) { animation-delay: 300ms; }
  .stagger-children > *:nth-child(5) { animation-delay: 400ms; }
  .stagger-children > *:nth-child(6) { animation-delay: 500ms; }
}

@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
}

/* Mobile horizontal scrolling for Ongoing Sessions and Skill Roadmap cards */
/* Only applies to mobile screens (max-width: 640px) */
@media (max-width: 640px) {
  /* Target Ongoing Sessions cards in mentor Students page */
  /* Selector: glass-card with both border-l-4 and border-primary classes */
  .glass-card.border-l-4[class*="border-primary"]:not([class*="border-success"]):not([class*="border-warning"]) > div:first-child {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    /* Hide scrollbar - cross-browser safe */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }

  .glass-card.border-l-4[class*="border-primary"]:not([class*="border-success"]):not([class*="border-warning"]) > div:first-child::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
  }

  /* Target Skill Roadmap cards in Learning Path page */
  /* Selector: glass-card with cursor-pointer class, then direct child div with relative class */
  .glass-card[class*="cursor-pointer"] > div[class*="relative"] {
    overflow-x: auto;
    overflow-y: hidden;
    -webkit-overflow-scrolling: touch;
    scroll-behavior: smooth;
    /* Hide scrollbar - cross-browser safe */
    scrollbar-width: none; /* Firefox */
    -ms-overflow-style: none; /* IE and Edge */
  }

  .glass-card[class*="cursor-pointer"] > div[class*="relative"]::-webkit-scrollbar {
    display: none; /* Chrome, Safari and Opera */
  }
}
